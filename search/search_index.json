{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"georchestra-ldap-py","text":"<p>Thin Python wrapper around the legacy <code>ldap_actions</code> scripts used with geOrchestra LDAP directories. Installable via pip, configurable via environment variables, and consumable as a small API.</p>"},{"location":"#quick-install","title":"Quick install","text":"<pre><code>python3 -m venv .venv\nsource .venv/bin/activate\npip install .\n# or directly from git\n# pip install \"git+https://github.com/jdev-org/georchestra-ldap-py.git\"\n</code></pre>"},{"location":"#configure-env-vars","title":"Configure (env vars)","text":"<p>All settings are read via <code>LdapSettings.from_env()</code> and applied to the legacy <code>config.py</code> in memory. Override as needed:</p> <pre><code>LDAP_SERVER, LDAP_PORT, LDAP_USE_SSL,\nLDAP_USER_DN, LDAP_PASSWORD,\nLDAP_USERS_DN, LDAP_PENDING_USERS_DN, LDAP_ORG_DN, LDAP_ROLE_DN,\nLDAP_SEARCH_BASE, LDAP_MAIL_ATTRIBUTE,\nLDAP_DEFAULT_ROLE_CN, LDAP_DEFAULT_ORG_CN\n</code></pre>"},{"location":"#example-usage","title":"Example usage","text":"<pre><code>from georchestra_ldap import GeorchestraLdapClient, LdapSettings\n\nclient = GeorchestraLdapClient(LdapSettings.from_env())\nclient.create_role(\"FOO\")\nclient.create_user(\"alice\", \"alice@example.org\", \"Alice\", \"Example\", \"Pwd123!\")\nclient.moderate_user(\"alice@example.org\")\nclient.add_user_role(\"alice@example.org\", \"FOO\")\nclient.read_user_roles(\"alice@example.org\")\n</code></pre>"},{"location":"api/client/","title":"GeorchestraLdapClient API","text":""},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient","title":"georchestra_ldap.client.GeorchestraLdapClient","text":"<p>Thin wrapper around the historical scripts in <code>ldap_actions</code> with a simple, importable API. Each method delegates to the matching legacy script while reapplying :class:<code>LdapSettings</code> to the legacy <code>config.py</code>.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient--common-usage-example","title":"Common usage example :","text":"<p>from georchestra_ldap import GeorchestraLdapClient, LdapSettings</p> <p>client = GeorchestraLdapClient(LdapSettings.from_env())</p> <p>client.create_role(\"FOO\")</p> <p>client.create_user(\"alice\", \"alice@example.org\", \"Alice\", \"Example\", \"pwd\")</p> <p>client.moderate_user(\"alice@example.org\")</p> <p>client.add_user_role(\"alice@example.org\", \"FOO\")</p> <p>client.read_user_roles(\"alice@example.org\")</p> <p>client.delete_user(\"alice@example.org\")</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient._run","title":"_run","text":"<pre><code>_run(action_name, func, *args, **kwargs)\n</code></pre> <p>Apply settings, log the action, call the legacy function.</p> <p>Parameters:</p> Name Type Description Default <code>action_name</code> <code>str</code> <p>Friendly action name used for logging.</p> required <code>func</code> <code>callable</code> <p>Legacy function to execute.</p> required <code>*args</code> <p>Positional arguments forwarded to the underlying function.</p> <code>()</code> <code>**kwargs</code> <p>Keyword arguments forwarded to the underlying function.</p> <code>{}</code>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.add_user_role","title":"add_user_role","text":"<pre><code>add_user_role(email, role_cn)\n</code></pre> <p>Add an existing role to the user identified by email.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.create_org","title":"create_org","text":"<pre><code>create_org(org_cn, org_name=None)\n</code></pre> <p>Create an organization if it does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>org_cn</code> <code>str</code> <p>Common name of the organization.</p> required <code>org_name</code> <code>str | None</code> <p>Optional display name (defaults to <code>org_cn</code>).</p> <code>None</code>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.create_role","title":"create_role","text":"<pre><code>create_role(role_cn, description='Role created via script', members=None)\n</code></pre> <p>Create a role if missing (idempotent); optionally seed members.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.create_user","title":"create_user","text":"<pre><code>create_user(uid, email, given_name, sn, password)\n</code></pre> <p>Create a pending user with geOrchestra objectClasses, USER role, C2C org.</p> <p>Parameters:</p> Name Type Description Default <code>uid</code> <code>str</code> <p>LDAP uid.</p> required <code>email</code> <code>str</code> <p>User email.</p> required <code>given_name</code> <code>str</code> <p>Given name.</p> required <code>sn</code> <code>str</code> <p>Surname.</p> required <code>password</code> <code>str</code> <p>Plain password, hashed before being stored.</p> required"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.delete_role","title":"delete_role","text":"<pre><code>delete_role(role_cn)\n</code></pre> <p>Delete a role after removing its members.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.delete_user","title":"delete_user","text":"<pre><code>delete_user(email)\n</code></pre> <p>Remove a user from all roles/orgs then delete the entry.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.get_connection","title":"get_connection","text":"<pre><code>get_connection()\n</code></pre> <p>Return an auto-bound ldap3 Connection configured from current settings.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.moderate_user","title":"moderate_user","text":"<pre><code>moderate_user(email)\n</code></pre> <p>Move a user from pending to users if present in pending.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.read_user_infos","title":"read_user_infos","text":"<pre><code>read_user_infos(email)\n</code></pre> <p>Print full user info (DN, uid, cn, mail, memberOf).</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.read_user_roles","title":"read_user_roles","text":"<pre><code>read_user_roles(email)\n</code></pre> <p>Print roles (groups under roles DN) for a user email.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.reload_settings","title":"reload_settings","text":"<pre><code>reload_settings(settings=None)\n</code></pre> <p>Update the underlying <code>config.py</code> values, optionally replacing the current :class:<code>LdapSettings</code> instance.</p> <p>Parameters:</p> Name Type Description Default <code>settings</code> <code>LdapSettings | None</code> <p>New settings to apply; if None, reapply the existing instance.</p> <code>None</code>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.remove_user_role","title":"remove_user_role","text":"<pre><code>remove_user_role(email, role_cn)\n</code></pre> <p>Remove a role from the user identified by email.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.update_lastname","title":"update_lastname","text":"<pre><code>update_lastname(user_dn, new_lastname)\n</code></pre> <p>Replace the <code>sn</code> attribute of a user DN.</p>"},{"location":"api/client/#georchestra_ldap.client.GeorchestraLdapClient.update_user_org","title":"update_user_org","text":"<pre><code>update_user_org(user_dn, org_cn)\n</code></pre> <p>Add a user DN to the given organization group.</p>"}]}